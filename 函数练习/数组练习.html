<!DOCTYPE html>
<html lang="zh-hans">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>数组练习</title>
    <link rel="stylesheet" href="">
</head>

<body>

    <script>
        // 写一个函数，操作数组，返回一个新数组，新数组中只包含正数。
        // var arr = [3, -1, 2, '饥人谷', true];
        // function filterPositive(arr) {
        //     let x = [];
        //     arr.forEach(e => {
        //         if (typeof e === 'number' && e % 1 === 0 && e >= 0) {
        //             x.push(e)
        //         }
        //     });
        //     return x;
        // }
        // alert(filterPositive(arr)) // 3,2

        // 用 splice函数分别实现 push、pop、shift、unshift方法。
        // function push(arr, value) {
        //     arr.splice(arr.length, 0, value);
        //     return arr.length;
        // }
        // function pop(arr){
        //     arr.length = arr.length - 1;
        // }
        // alert(pop(arr))
        // alert(arr)
        // function pop(arr) {
        //     arr.splice(arr.length - 1, 1);
        //     return arr.length - 1;
        // }
        // alert(pop(arr))
        // alert(arr)
        // function shift(arr) {
        //     arr.splice(0, 1);
        //     return arr.length
        // }

        // function unshift(arr) {
        //     arr.splice(0, 0, 'add');
        //     return arr.length
        // }
        // alert(unshift(arr))
        // alert(arr)


        // 对以下代码 users中的对象，分别以 name 字段、age 字段、company 字段进行排序
        // var users = [
        //     { name: "John", age: 20, company: "Baidu" },
        //     { name: "Pete", age: 18, company: "Alibaba" },
        //     { name: "Ann", age: 19, company: "Tecent" }
        // ]

        // users.sort((v1, v2) => {
        //     if (v1.name < v2.name) {
        //         return -1;
        //     }
        //     if (v1.name > v2.name) {
        //         return 1;
        //     }
        //     return 0;
        // });
        // console.log(users)

        // users.sort((v1, v2) => {
        //     if (v1.age < v2.age) {
        //         return -1;
        //     }
        //     if (v1.age > v2.age) {
        //         return 1;
        //     }
        //     return 0;
        // });

        // console.log(users)

        // users.sort((v1, v2) => {
        //     if (v1.company < v2.company) {
        //         return -1;
        //     }
        //     if (v1.company > v2.company) {
        //         return 1;
        //     }
        //     return 0;
        // });

        // console.log(users)


        // 使用 JSON 对象实现一个简单的深拷贝函数(deepCopy)。
        // function deepCopy(any) {
        //     let a = JSON.stringify(any);
        //     let b = JSON.parse(a)
        //     return b
        // }

        // forEach 接受一个函数，这个函数的参数有三个（ele，index，arr）用来遍历数组。

        // map接受一个函数，这个函数的参数是数组的value。map会返回一个新的数组。

        // indexOf()方法返回在数组中可以找到一个给定元素的第一个索引，如果不存在，则返回 - 1。他接受两个参数，第一个是要查找的元素，第二个是从第几个开始找。

        // 写补全sortString函数，实现字符串倒序

        // function  sortString(str){
        //     //补全
        // // }
        // var str = 'jirenguhungervalley'
        // // var str2 = sortString(str)
        // // console.log(str2) // 'yellavregnuhugnerij'

        // function sortString(str) {
        //     let arr = [];
        //     for (let i = 0; i < str.length; i++) {
        //         arr.push(str[i])
        //     };
        //     let x = arr.reverse();
        //     return x.join("");
        // }

        // console.log(sortString(str))

        // object

        // // 求n的阶乘

        // function jiecheng(num) {
        //     if (num === 1 || num === 0) {
        //         return 1
        //     } if (num < 0) {
        //         return -1
        //     }
        //     else {
        //         return num * (jiecheng(num - 1));
        //     }
        // }

        // // 求平方和


        // function sumOfSquares(num,num,num){
        //     let result = 0
        //     for(let key in arguments){
        //         if(typeof arguments[key] !== 'number'){
        //             return 'false number'
        //         }else{
        //             result += arguments[key]*arguments[key]
        //         }
        //     }
        //     return result
        // }


        // var result = sumOfSquares(2, 3, 4)
        // var result2 = sumOfSquares(1, 3)

        // console.log(result)  //29
        // console.log(result2)  //10



        // function sumOfSquares(num,num2,num3) {
        //     if(arguments.length === 2){
        //         return (num*num)+(num2*num2)
        //     }else{return (num*num)+(num2*num2)+(num3*num3)}
        // }


        // 写一个函数squireArr，其参数是一个数组，作用是把数组中的每一项变为原值的平方

        // var arr = [3, 4, 6]
        // function squireArr(arr) {
        //     for (let i = 0; i < arr.length; i++) {
        //         arr[i] = arr[i] * arr[i]
        //     }
        //     return arr
        // }
        // squireArr(arr)
        // console.log(arr)  // [9, 16, 36]

        // 写一个函数squireArr，其参数是一个数组，返回一个新的数组，新数组中的每一项是原数组对应值的平方，原数组不变

        // var arr = [3, 4, 6]
        // function squireArr(arr) {
        //     var a = arr.map((e)=>{
        //         return e*e
        //     })
        //     return a
        // }
        // var arr2 = squireArr(arr)
        // console.log(arr)  // [3, 4, 6]
        // console.log(arr2)  // [9, 16, 36]

        // function x (arr){
        //     var a = JSON.stringify(arr)
        //     var b = JSON.parse(a)
        //     return b
        // }

        // 写一个函数，生成一个随机 IP 地址，一个合法的 IP 地址为 0.0.0.0~255.255.255.255。

        // function getRandIP() {
        //     var arr = [];
        //     for(i=1;i<=4;i++){
        //         var rand = Math.floor(Math.random()*255);
        //         arr.push(rand)
        //     }
        //     console.log(arr)
        //     return arr.join('.')
        // }
        // var ip = getRandIP()
        // console.log(ip) // 10.234.121.45


        // 写一个函数，生成一个随机颜色字符串，合法的颜色为#000000~ #ffffff。

        // function getRandColor() {
        //     var a = [];
        //     var str = "1234567890abcdef"
        //     for(let i=1;i<6;i++){
        //         var rand = Math.floor(Math.random()*str.length)
        //         a.push(str[rand])
        //     }
        //     return "#"+a.join("")
        // }
        // var color = getRandColor()
        // console.log(color)   // #3e2f1b


        // 写一个函数，返回从min到max之间的 随机整数，包括min不包括max 。

        // function randInteger(min,max){
        //     if(min>=max){
        //         return "你输错顺序啦～小的在前面哦～"
        //     }else
        //     return Math.floor(min+Math.random()*(max-1))
        // }


        // 写一个函数，生成一个长度为 n 的随机字符串，字符串字符的取值范围包括0到9，a到 z，A到Z。

        // function getRandStr(num) {
        //     var arr = []
        //     var str = "1234567890asdfghjklqwertyuiopzxcvbnmZXCVBNMASDFGHJKLQWERTYUIOP"
        //     for(i=0;i<num;i++){
        //         var rand = Math.floor(Math.random()*str.length)
        //         arr.push(str[rand])
        //     }
        //     return arr.join("")
        // }
        // var str = getRandStr(10); // 0a3iJiRZap

        // 实现一个flatten函数，将一个嵌套多层的数组 array（数组） (嵌套可以是任何层数)转换为只有一层的数组，数组中元素仅基本类型的元素或数组，不存在循环引用的情况。
        // Ex: ：

        // flatten([1, [2], [3, [[4]]]]) => [1, 2, 3, 4];
        // function flatten(arr){
        //     var arr1 = []
        //     arr.forEach(e => {
        //         if(Array.isArray(e)===true){
        //             arr1 = arr1.concat(flatten(e))
        //         }else{
        //             arr1.push(e)
        //         }
        //     });
        //     return arr1;
        // }

        // 实现一个reduce函数，作用和原生的reduce类似下面的例子。
        // Ex：?????????????????????????????????????

        // var sum = reduce([1, 2, 3], function (memo, num) { return memo + num; }, 0); => 6

        // function reduce(arr,fn,initNum){
        //     var arr2 = arr.concat([])
        //     if(initNum !== undefined){
        //         arr2.unshift(initNum)
        //     }
        //     while(arr2.length>1){
        //         arr2.splice(0,2,fn(arr2[0],arr2[1]))
        //     }
        //     return arr2[0]
        // }


        // 写一个函数，参数为时间对象毫秒数的字符串格式，返回值为字符串。假设参数为时间对象毫秒数t，根据t的时间分别返回如下字符串：

        // 刚刚（ t 距当前时间不到1分钟时间间隔）
        // 3分钟前(t距当前时间大于等于1分钟，小于1小时)
        // 8小时前(t 距离当前时间大于等于1小时，小于24小时)
        // 3天前(t 距离当前时间大于等于24小时，小于30天)
        // 2个月前(t 距离当前时间大于等于30天小于12个月)
        // 8年前(t 距离当前时间大于等于12个月)
        function friendlyDate(time) {
            var nowTime = new Date();
            var ss = nowTime.getTime()
            console.log(ss)
            var timeOut = time - ss;
            console.log(timeOut)
            if(timeOut<1000*60){
                return "刚刚";
            }else if(timeOut>=1000*60 && timeOut<1000*60*60){
                return "3分钟前";
            }else if(timeOut>=1000*60*60 && timeOut<1000*60*60*24){
                return "8小时前";
            }else if(timeOut>=1000*60*60*24 && timeOut<1000*60*60*24*30){
                return "三天前";
            }else if(timeOut>=1000*60*60*24*30 && timeOut<1000*60*60*24*30*12){
                return "2个月前";
            }else{
                return "8年前";
            }
        }
        var str = friendlyDate('1484286699422') //  1分钟前（以当前时间为准）
        var str2 = friendlyDate('1483941245793') //4天前（以当前时间为准）
    </script>
</body>

</html>